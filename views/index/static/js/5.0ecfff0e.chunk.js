(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{243:function(e,t,a){},416:function(e,t,a){},529:function(e,t,a){"use strict";a.r(t);a(187);var n=a(188),s=(a(236),a(418)),r=(a(186),a(62)),c=a(14),l=a(15),o=a(35),i=a(33),m=a(34),u=(a(191),a(192)),d=a(0),p=a.n(d),h=(a(97),a(68)),g=(a(189),a(194)),E=(a(211),a(213)),f=a(184),v=a.n(f),b=(a(95),a(65)),y=a(185),k=a(409),N=a(532),w=a(37),j=a(341),C=a.n(j),O=u.a.Item,S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={loginLoading:!1,userNeedActive:!1,sendCodeLoading:!1},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(){var e=Object(y.a)(v.a.mark(function e(t,n){var s;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=15;break}return a.setState({loginLoading:!0}),e.next=4,http.post("/api/login",{username:n.username,password:n.password},!1);case 4:if(s=e.sent,a.setState({loginLoading:!1}),!s.success){e.next=14;break}return w.a.setLoginInfo(s.data.userInfo),b.a.success("\u767b\u5f55\u6210\u529f\uff0c\u6b63\u5728\u8df3\u8f6c...",1),e.next=11,C.a.async.wait(1e3);case 11:a.props.history.push("/projects"),e.next=15;break;case 14:"0005"===s.code&&a.setState({userNeedActive:!0,user:s.data.user});case 15:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}())},a.handleSendCode=Object(y.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.setState({sendCodeLoading:!0}),e.next=3,http.get("/api/resendCode",{userId:a.state.user.id},!1);case 3:t=e.sent,a.setState({sendCodeLoading:!1}),t.success&&(b.a.success("\u53d1\u9001\u6210\u529f\uff0c\u8bf7\u767b\u5f55\u90ae\u7bb1\u6ce8\u518c",2),E.a.success({title:"\u63d0\u793a",content:"\u53d1\u9001\u6210\u529f\uff0c\u8bf7\u767b\u5f55\u90ae\u7bb1".concat(a.state.user.email,"\u6fc0\u6d3b\u8d26\u53f7")}),a.setState({userNeedActive:!1}));case 6:case"end":return e.stop()}},e,this)})),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return p.a.createElement(u.a,{onSubmit:this.handleSubmit,className:"login-form"},p.a.createElement(O,null,e("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]})(p.a.createElement(g.a,{size:"large",prefix:p.a.createElement(r.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),p.a.createElement(O,null,e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(p.a.createElement(g.a,{size:"large",prefix:p.a.createElement(r.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),p.a.createElement(O,null,p.a.createElement(n.a,{size:"large",loading:this.state.loginLoading,type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b  \u5f55"),p.a.createElement("div",{style:{height:"38px"}},p.a.createElement(k.a,{to:"/register",style:{float:"left"},className:"login-link"},"\u8fd8\u6ca1\u6709\u8d26\u53f7\uff1f\u6ce8\u518c\u8d26\u53f7"),p.a.createElement(k.a,{to:"/forgetpwd",style:{float:"right"},className:"login-link"},"\u5fd8\u8bb0\u5bc6\u7801")),this.state.userNeedActive&&p.a.createElement("div",null,this.state.sendCodeLoading&&p.a.createElement("a",{href:"javascript:;",style:{color:"#f33"},className:"login-link"},p.a.createElement(h.a,null)," \u53d1\u9001\u4e2d..."),!this.state.sendCodeLoading&&p.a.createElement("a",{href:"javascript:;",style:{color:"#f33",display:"block"},onClick:this.handleSendCode,className:"login-link"},p.a.createElement("span",{style:{whiteSpace:"nowrap"}},"\u53d1\u9001\u6fc0\u6d3b\u94fe\u63a5\u5230"+this.state.user.email)))))}}]),t}(d.Component),L=Object(N.a)(S),D=a(410),x=a.n(D),I=(a(416),function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).countDataTimer=null,a.state={dataLoading:!1,countData:{users:0,projects:0,apis:0,mocks:0}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"getCountData",value:function(){var e=Object(y.a)(v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({dataLoading:!0}),e.next=3,http.get("/api/countData");case 3:t=e.sent,this.setState({dataLoading:!1}),t.success&&this.setState({countData:t.data});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.getCountData(),this.countDataTimer=setInterval(function(){e.getCountData()},1e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.countDataTimer)}},{key:"render",value:function(){return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"data-grid"},p.a.createElement("p",{className:"icon"},p.a.createElement(r.a,{type:"user"})),p.a.createElement("p",{className:"number"},!this.state.dataLoading&&p.a.createElement(x.a,{to:this.state.countData.users,speed:500})),p.a.createElement("p",{className:"name"},"\u5f53\u524d\u603b\u7528\u6237\u6570")),p.a.createElement("div",{className:"data-grid",style:{backgroundColor:"#68befb"}},p.a.createElement("p",{className:"icon"},p.a.createElement(r.a,{type:"appstore"})),p.a.createElement("p",{className:"number"},!this.state.dataLoading&&p.a.createElement(x.a,{to:this.state.countData.projects,speed:500})),p.a.createElement("p",{className:"name"},"\u5f53\u524d\u603b\u9879\u76ee\u6570")),p.a.createElement("div",{className:"data-grid",style:{backgroundColor:"#26818c"}},p.a.createElement("p",{className:"icon"},p.a.createElement(r.a,{type:"cluster"})),p.a.createElement("p",{className:"number"},!this.state.dataLoading&&p.a.createElement(x.a,{to:this.state.countData.apis,speed:500})),p.a.createElement("p",{className:"name"},"\u5f53\u524d\u603b\u63a5\u53e3\u6570")),p.a.createElement("div",{className:"data-grid"},p.a.createElement("p",{className:"icon"},p.a.createElement(r.a,{type:"eye"})),p.a.createElement("p",{className:"number"},!this.state.dataLoading&&p.a.createElement(x.a,{to:this.state.countData.mocks,speed:500})),p.a.createElement("p",{className:"name"},"\u63a5\u53e3\u8bbf\u95ee\u6570")))}}]),t}(p.a.Component)),G=(a(243),a(13)),A=a.n(G),q=u.a.create()(L),M=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={showGuide:!1},a.hideGuide=function(){a.setState({showGuide:!1}),localStorage.setItem("fastmockHomeGuide","yes")},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){w.a.isLogin()&&this.props.history.push("/projects")}},{key:"componentDidMount",value:function(){A.a.remove(),localStorage.getItem("fastmockHomeGuide")||this.setState({showGuide:!0})}},{key:"render",value:function(){var e=p.a.createElement("img",{width:"150",src:"/assets/images/qq-group.jpeg"});return p.a.createElement("div",{className:"login-body"},p.a.createElement("div",{className:"nav"},p.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"//fmdocs.fastmock.site"},p.a.createElement(r.a,{type:"book"})," \u4f7f\u7528\u6587\u6863"),p.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/MarvenGong/fastmock"},p.a.createElement(r.a,{type:"github"})," Github"),p.a.createElement(s.a,{content:e,title:"\u626b\u7801\u8fdb\u7fa4"},p.a.createElement("span",null,p.a.createElement(r.a,{type:"qq"}),"QQ\u4ea4\u6d41\u7fa4"))),p.a.createElement("div",{className:"login-main"},p.a.createElement("div",{className:"login-left-data"},p.a.createElement(I,null)),p.a.createElement("div",{className:"login"},p.a.createElement("div",{className:"inset animated customClipX"},p.a.createElement("div",{className:"login-logo"},p.a.createElement("img",{src:"/assets/images/logo-blue.png",width:"396"})),p.a.createElement("h2",{className:"login-title"},"\u7528\u6237\u767b\u5f55"),p.a.createElement(q,null),p.a.createElement("h4",null,"\u5173\u4e8efastmock"),p.a.createElement("div",null,"fastmock\u53ef\u4ee5\u8ba9\u4f60\u5728\u6ca1\u6709\u540e\u7aef\u7a0b\u5e8f\u7684\u60c5\u51b5\u4e0b\u80fd\u771f\u5b9e\u5730\u5728\u7ebf\u6a21\u62dfajax\u8bf7\u6c42\uff0c \u4f60\u53ef\u4ee5\u7528fastmock\u5b9e\u73b0\u9879\u76ee\u521d\u671f\u7eaf\u524d\u7aef\u7684\u6548\u679c\u6f14\u793a\uff0c\u4e5f\u53ef\u4ee5\u7528fastmock\u5b9e\u73b0\u5f00\u53d1\u4e2d\u7684\u6570\u636e\u6a21\u62df\u4ece\u800c\u5b9e\u73b0\u524d\u540e\u7aef\u5206\u79bb")))),p.a.createElement("div",{className:"login-footer"},p.a.createElement("p",null,"\xa9 All rights reserved FastMock\u5728\u7ebfMock\u5e73\u53f0"),p.a.createElement("p",{className:"beian"},"\u6e1dICP\u590719000613\u53f7-2")),this.state.showGuide&&p.a.createElement("div",{className:"home-guide animated customFadeIn"},p.a.createElement("div",{className:"guide-box"},p.a.createElement("p",null,"\u60a8\u6ca1\u6709\u8fdb\u9519\u7f51\u7ad9\uff0cfastmock UI\u6539\u7248\u4e86"),p.a.createElement("p",null,"\u626b\u7801\u52a0\u5165\u6211\u4eec\u7684QQ\u4ea4\u6d41\u7fa4"),p.a.createElement("p",null,"\u65b9\u4fbf\u6211\u4eec\u5feb\u901f\u5904\u7406\u60a8\u9047\u5230\u7684\u95ee\u9898"),p.a.createElement("p",{style:{marginBottom:"10px"}},"\u4e5f\u53ef\u4ee5\u4e0e\u5176\u4ed6\u4eba\u4e00\u8d77\u4ea4\u6d41"),p.a.createElement(n.a,{onClick:this.hideGuide,size:"small",type:"primary"},"\u6211\u77e5\u9053\u4e86"))))}}]),t}(p.a.Component);t.default=Object(N.a)(M)}}]);
//# sourceMappingURL=5.0ecfff0e.chunk.js.map